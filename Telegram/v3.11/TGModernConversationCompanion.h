/*
* This header is generated by classdump-dyld 1.0
* on Friday, August 26, 2016 at 5:53:39 PM British Summer Time
* Operating System: Version 9.3.3 (Build 13G34)
* Image Source: /var/containers/Bundle/Application/D5AA3D7F-F68B-43D8-8CC1-85DAFE886350/Telegram.app/Telegram
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <Telegram/Telegram-Structs.h>
#import <Telegram/ASWatcher.h>

@protocol OS_dispatch_semaphore;
@class NSArray, TGModernViewStorage, NSIndexSet, NSObject, NSMutableDictionary, NSMutableArray, STimer, SDisposableSet, SSignalQueue, ASHandle, TGModernConversationController, TGModernViewContext, SVariable, NSString;

@interface TGModernConversationCompanion : NSObject <ASWatcher> {

	NSArray* _items;
	BOOL _hasStarted;
	TGModernViewStorage* _tempViewStorage;
	void* _tempMemory;
	NSIndexSet* _tempVisibleItemsIndices;
	double _controllerWidthForItemCalculation;
	NSObject*<OS_dispatch_semaphore> _sendMessageSemaphore;
	int _initialPositionedMessageId;
	int _initialScrollPosition;
	double _initialScrollOffset;
	SCD_Struct_TG131 _unreadMessageRange;
	set<int, std::less<int>, std::allocator<int> >* _checkedMessages;
	map<int, int, std::less<int>, std::allocator<std::pair<const int, int> > >* _messageFlags;
	map<int, double, std::less<int>, std::allocator<std::pair<const int, double> > >* _messageViewDate;
	/*function pointer*/void* _updateMediaStatusDataImpl;
	BOOL _controllerShowingEmptyState;
	NSMutableDictionary* _downloadingMessages;
	NSMutableDictionary* _downloadingWebpages;
	NSMutableDictionary* _downloadedMessages;
	BOOL _allowMessageDownloads;
	BOOL _askedForSecretPages;
	set<int, std::less<int>, std::allocator<int> >* _messageViewsRequested;
	NSMutableArray* _messageViewsRequestedBuffer;
	STimer* _messageViewsRequestedBufferTimer;
	SDisposableSet* _messageViewsDisposable;
	SSignalQueue* _mediaUploadQueue;
	BOOL _previewMode;
	BOOL _useInitialSnapshot;
	int _mediaHiddenMessageId;
	ASHandle* _actionHandle;
	TGModernConversationController* _controller;
	TGModernViewContext* _viewContext;
	SVariable* _callbackInProgress;

}

@property (nonatomic,retain) ASHandle * actionHandle;                                         //@synthesize actionHandle=_actionHandle - In the implementation block
@property (assign,nonatomic,__weak) TGModernConversationController * controller;              //@synthesize controller=_controller - In the implementation block
@property (nonatomic,retain) TGModernViewContext * viewContext;                               //@synthesize viewContext=_viewContext - In the implementation block
@property (assign,nonatomic) int mediaHiddenMessageId;                                        //@synthesize mediaHiddenMessageId=_mediaHiddenMessageId - In the implementation block
@property (assign,nonatomic) BOOL previewMode;                                                //@synthesize previewMode=_previewMode - In the implementation block
@property (assign,nonatomic) BOOL useInitialSnapshot;                                         //@synthesize useInitialSnapshot=_useInitialSnapshot - In the implementation block
@property (nonatomic,retain) SVariable * callbackInProgress;                                  //@synthesize callbackInProgress=_callbackInProgress - In the implementation block
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
+(void)warmupResources;
+(void)dispatchOnMessageQueue:(/*^block*/id)arg1 ;
+(CGContextRef)_createSnapshotContext:(CGSize)arg1 memoryToRelease:(void*)arg2 ;
+(CGImageRef)createSnapshotFromContextAndRelease:(CGContextRef)arg1 ;
+(BOOL)isMessageQueue;
+(id)messageQueue;
-(void)actorCompleted:(int)arg1 path:(id)arg2 result:(id)arg3 ;
-(void)actionStageResourceDispatched:(id)arg1 resource:(id)arg2 arguments:(id)arg3 ;
-(void)actionStageActionRequested:(id)arg1 options:(id)arg2 ;
-(void)actorMessageReceived:(id)arg1 messageType:(id)arg2 message:(id)arg3 ;
-(ASHandle *)actionHandle;
-(long long)attachedPeerId;
-(void)setActionHandle:(ASHandle *)arg1 ;
-(void)bindController:(id)arg1 ;
-(void)navigateToMessageId:(int)arg1 scrollBackMessageId:(int)arg2 animated:(BOOL)arg3 ;
-(void)_replaceMessages:(id)arg1 ;
-(void)_itemsUpdated;
-(void)_setTitleIcons:(id)arg1 ;
-(void)_controllerWillAppearAnimated:(BOOL)arg1 firstTime:(BOOL)arg2 ;
-(void)controllerWantsToSendTextMessage:(id)arg1 entities:(id)arg2 asReplyToMessageId:(int)arg3 withAttachedMessages:(id)arg4 disableLinkPreviews:(BOOL)arg5 botContextResult:(id)arg6 botReplyMarkup:(id)arg7 ;
-(TGModernViewContext *)viewContext;
-(void)loadInitialState;
-(void)_setAvatarConversationId:(long long)arg1 firstName:(id)arg2 lastName:(id)arg3 ;
-(void)_setAvatarUrl:(id)arg1 ;
-(void)_setStatus:(id)arg1 accentColored:(BOOL)arg2 allowAnimation:(BOOL)arg3 toggleMode:(int)arg4 ;
-(void)_setTypingStatus:(id)arg1 activity:(int)arg2 ;
-(id)_conversationHeader;
-(void)_controllerDidAppear:(BOOL)arg1 ;
-(id)_conversationEmptyListPlaceholder;
-(void)subscribeToUpdates;
-(long long)requestAccessHash;
-(void)_updateInputPanel;
-(void)_controllerAvatarPressed;
-(void)navigateToMessageSearch;
-(void)_setTitle:(id)arg1 andStatus:(id)arg2 accentColored:(BOOL)arg3 allowAnimatioon:(BOOL)arg4 toggleMode:(int)arg5 ;
-(void)_addedMessages:(id)arg1 ;
-(id)_conversationEmptyListInputPanel;
-(id)_conversationGenericInputPanel;
-(BOOL)imageDownloadsShouldAutosavePhotos;
-(BOOL)shouldAutomaticallyDownloadPhotos;
-(BOOL)shouldAutomaticallyDownloadAnimations;
-(BOOL)shouldAutomaticallyDownloadAudios;
-(void)_loadControllerPrimaryTitlePanel;
-(void)controllerDidUpdateTypingActivity;
-(void)controllerDidCancelTypingActivity;
-(id)_controllerInfoButtonText;
-(int)applicationFeaturePeerType;
-(BOOL)allowReplies;
-(BOOL)isASingleBotGroup;
-(id)commandListForCommand:(id)arg1 ;
-(id)userListForMention:(id)arg1 canBeContextBot:(BOOL)arg2 ;
-(id)galleryControllerForAvatar;
-(SVariable *)callbackInProgress;
-(id)hashtagListForHashtag:(id)arg1 ;
-(void)_setAvatarConversationId:(long long)arg1 title:(id)arg2 icon:(id)arg3 ;
-(void)_dismissController;
-(int)mediaHiddenMessageId;
-(BOOL)_isMessageChecked:(int)arg1 ;
-(BOOL)_isSecretMessageViewed:(int)arg1 ;
-(BOOL)_isSecretMessageScreenshotted:(int)arg1 ;
-(double)_secretMessageViewDate:(int)arg1 ;
-(BOOL)canPinMessage:(id)arg1 ;
-(id)updatePinnedMessage:(int)arg1 ;
-(void)loadMoreMessagesAbove;
-(void)_toggleTitleMode;
-(void)setInitialMessagePositioning:(int)arg1 position:(int)arg2 offset:(double)arg3 ;
-(void)setUnreadMessageRange:(SCD_Struct_TG131)arg1 ;
-(void)_replaceMessages:(id)arg1 atMessageId:(int)arg2 expandFrom:(int)arg3 jump:(BOOL)arg4 top:(BOOL)arg5 messageIdForVisibleHoleDirection:(int)arg6 scrollBackMessageId:(int)arg7 animated:(BOOL)arg8 ;
-(void)setUseInitialSnapshot:(BOOL)arg1 ;
-(void)_addMessages:(id)arg1 animated:(BOOL)arg2 intent:(int)arg3 ;
-(void)_addMessages:(id)arg1 animated:(BOOL)arg2 intent:(int)arg3 deletedMessageIds:(id)arg4 ;
-(void)_updateMessages:(id)arg1 ;
-(void)_deleteMessages:(id)arg1 animated:(BOOL)arg2 ;
-(id)checkedMessageIds;
-(BOOL)canModerateMessage:(id)arg1 ;
-(void)_replaceMessagesWithFastScroll:(id)arg1 intent:(int)arg2 scrollToMessageId:(int)arg3 scrollBackMessageId:(int)arg4 animated:(BOOL)arg5 ;
-(void)controllerDeletedMessages:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)acquireAudioRecordingActivityHolder;
-(void)_controllerDidUpdateVisibleHoles:(id)arg1 ;
-(void)loadMoreMessagesBelow;
-(id)checkedMessageModerateUser;
-(BOOL)isMessagePinned:(int)arg1 ;
-(BOOL)canEditMessage:(id)arg1 ;
-(BOOL)canDeleteMessages;
-(BOOL)canDeleteAllMessages;
-(long long)requestPeerId;
-(void)_toggleBroadcastMode;
-(void)_performFastScrollDown:(BOOL)arg1 becauseOfNavigation:(BOOL)arg2 ;
-(BOOL)canAddNewMessagesToTop;
-(id)editingContextForMessageWithId:(int)arg1 ;
-(id)saveEditedMessageWithId:(int)arg1 text:(id)arg2 entities:(id)arg3 disableLinkPreviews:(BOOL)arg4 ;
-(id)reportMessage:(int)arg1 ;
-(BOOL)canCreateLinksToMessages;
-(id)applyModerateMessageActions:(id)arg1 messageIds:(id)arg2 ;
-(BOOL)canReportMessage:(id)arg1 ;
-(void)_updateProgressForItemsInIndexSet:(id)arg1 animated:(BOOL)arg2 ;
-(BOOL)allowExternalContent;
-(BOOL)allowMessageForwarding;
-(BOOL)encryptUploads;
-(BOOL)controllerShouldCacheServerAssets;
-(id)mediaUploadQueue;
-(BOOL)controllerShouldLiveUploadVideo;
-(BOOL)allowCaptionedMedia;
-(BOOL)allowMessageEntities;
-(void)lockSendMessageSemaphore;
-(void)updateControllerEmptyState;
-(void)_downloadMediaInMessage:(id)arg1 highPriority:(BOOL)arg2 ;
-(void)controllerWantsToForwardMessages:(id)arg1 ;
-(void)controllerWantsToSendMapWithLatitude:(double)arg1 longitude:(double)arg2 venue:(id)arg3 asReplyToMessageId:(int)arg4 botContextResult:(id)arg5 botReplyMarkup:(id)arg6 ;
-(void)updateMessageViews:(id)arg1 markAsSeen:(BOOL)arg2 ;
-(void)_updateMediaStatusDataForItemsInIndexSet:(id)arg1 animated:(BOOL)arg2 forceforceCheckDownload:(BOOL)arg3 ;
-(void)systemClearedConversation;
-(void)_updateMediaStatusDataForItemsWithMessageIdsInSet:(id)arg1 ;
-(void)unlockSendMessageSemaphore;
-(void)_updateMessageDelivered:(int)arg1 ;
-(void)_updateMessageDeliveryFailed:(int)arg1 ;
-(void)_updateMessageDelivered:(int)arg1 mid:(int)arg2 date:(int)arg3 message:(id)arg4 pts:(int)arg5 ;
-(void)maybeAskForInlineBots;
-(void)updateControllerInputText:(id)arg1 entities:(id)arg2 messageEditingContext:(id)arg3 ;
-(void)controllerDidChangeInputText:(id)arg1 ;
-(void)_updateMessageItemsWithData:(id)arg1 ;
-(id)_updateMediaStatusData:(id)arg1 ;
-(void)_updateImportantMediaStatusDataInplace:(id)arg1 ;
-(id)fileUrlForDocumentMedia:(id)arg1 ;
-(id)imageDescriptionFromImage:(id)arg1 caption:(id)arg2 optionalAssetUrl:(id)arg3 ;
-(id)imageDescriptionFromBingSearchResult:(id)arg1 caption:(id)arg2 ;
-(id)imageDescriptionFromExternalImageSearchResult:(id)arg1 text:(id)arg2 botContextResult:(id)arg3 ;
-(id)documentDescriptionFromGiphySearchResult:(id)arg1 ;
-(id)documentDescriptionFromExternalGifSearchResult:(id)arg1 text:(id)arg2 botContextResult:(id)arg3 ;
-(id)documentDescriptionFromBotContextResult:(id)arg1 text:(id)arg2 botContextResult:(id)arg3 ;
-(id)imageDescriptionFromMediaAsset:(id)arg1 previewImage:(id)arg2 document:(BOOL)arg3 fileName:(id)arg4 caption:(id)arg5 ;
-(id)videoDescriptionFromMediaAsset:(id)arg1 previewImage:(id)arg2 adjustments:(id)arg3 document:(BOOL)arg4 fileName:(id)arg5 caption:(id)arg6 ;
-(id)videoDescriptionFromVideoURL:(id)arg1 previewImage:(id)arg2 dimensions:(CGSize)arg3 duration:(double)arg4 adjustments:(id)arg5 caption:(id)arg6 ;
-(id)documentDescriptionFromICloudDriveItem:(id)arg1 ;
-(id)documentDescriptionFromDropboxItem:(id)arg1 ;
-(id)documentDescriptionFromGoogleDriveItem:(id)arg1 ;
-(id)imageDescriptionFromInternalSearchImageResult:(id)arg1 caption:(id)arg2 ;
-(id)documentDescriptionFromInternalSearchResult:(id)arg1 ;
-(id)documentDescriptionFromRemoteDocument:(id)arg1 ;
-(id)documentDescriptionFromFileAtTempUrl:(id)arg1 fileName:(id)arg2 mimeType:(id)arg3 isAnimation:(BOOL)arg4 ;
-(void)controllerWantsToSendImagesWithDescriptions:(id)arg1 asReplyToMessageId:(int)arg2 botReplyMarkup:(id)arg3 ;
-(void)controllerWantsToSendLocalVideoWithTempFilePath:(id)arg1 fileSize:(int)arg2 previewImage:(id)arg3 duration:(double)arg4 dimensions:(CGSize)arg5 caption:(id)arg6 assetUrl:(id)arg7 liveUploadData:(id)arg8 asReplyToMessageId:(int)arg9 botReplyMarkup:(id)arg10 ;
-(id)serverCachedAssetWithId:(id)arg1 ;
-(void)controllerWantsToSendDocumentWithTempFileUrl:(id)arg1 fileName:(id)arg2 mimeType:(id)arg3 asReplyToMessageId:(int)arg4 ;
-(void)controllerWantsToSendDocumentsWithDescriptions:(id)arg1 asReplyToMessageId:(int)arg2 ;
-(void)controllerWantsToSendRemoteDocument:(id)arg1 asReplyToMessageId:(int)arg2 text:(id)arg3 botContextResult:(id)arg4 botReplyMarkup:(id)arg5 ;
-(void)controllerWantsToSendRemoteImage:(id)arg1 text:(id)arg2 asReplyToMessageId:(int)arg3 botContextResult:(id)arg4 botReplyMarkup:(id)arg5 ;
-(void)controllerWantsToSendCloudDocumentsWithDescriptions:(id)arg1 asReplyToMessageId:(int)arg2 ;
-(void)controllerWantsToSendLocalAudioWithDataItem:(id)arg1 duration:(double)arg2 liveData:(id)arg3 waveform:(id)arg4 asReplyToMessageId:(int)arg5 botReplyMarkup:(id)arg6 ;
-(void)controllerWantsToSendRemoteVideoWithMedia:(id)arg1 asReplyToMessageId:(int)arg2 text:(id)arg3 botContextResult:(id)arg4 botReplyMarkup:(id)arg5 ;
-(void)controllerWantsToSendContact:(id)arg1 asReplyToMessageId:(int)arg2 botContextResult:(id)arg3 botReplyMarkup:(id)arg4 ;
-(void)controllerWantsToResendMessages:(id)arg1 ;
-(void)controllerClearedConversation;
-(void)controllerRequestedNavigationToConversationWithUser:(int)arg1 ;
-(void)controllerCanReadHistoryUpdated;
-(void)controllerCanRegroupUnreadIncomingMessages;
-(void)controllerWantsToCreateContact:(int)arg1 firstName:(id)arg2 lastName:(id)arg3 phoneNumber:(id)arg4 ;
-(void)controllerWantsToAddContactToExisting:(int)arg1 phoneNumber:(id)arg2 ;
-(void)controllerWantsToApplyLocalization:(id)arg1 ;
-(void)unloadMessagesAbove;
-(void)unloadMessagesBelow;
-(void)updateMediaAccessTimeForMessageId:(int)arg1 ;
-(id)acquireLocationPickingActivityHolder;
-(id)inlineResultForMentionText:(id)arg1 text:(id)arg2 ;
-(id)contextBotInfoForText:(id)arg1 ;
-(id)playlistMetadata:(BOOL)arg1 ;
-(SCD_Struct_TG131)unreadMessageRange;
-(void)setCallbackInProgress:(SVariable *)arg1 ;
-(void)consumeRequestedMessages;
-(void)_ensureReferenceMethod;
-(void)_updateMediaStatusDataForCurrentItems;
-(void)_updateControllerEmptyState:(BOOL)arg1 ;
-(BOOL)_controllerShouldHideInputTextByDefault;
-(double)initialPositioningOverflowForScrollPosition:(int)arg1 ;
-(id)youtubeVideoIdFromText:(id)arg1 ;
-(id)twitterPostIdFromText:(id)arg1 ;
-(id)vkInternalUrlFromText:(id)arg1 ;
-(void)_webPagesUpdated:(id)arg1 localIdToWebPage:(id)arg2 ;
-(void)_messagesDownloaded:(id)arg1 ;
-(int)initialPositioningMessageId;
-(int)initialPositioningScrollPosition;
-(double)initialPositioningScrollOffset;
-(void)unbindController;
-(void)_setControllerWidthForItemCalculation:(double)arg1 ;
-(id)_controllerInputTextPanelAccessoryView;
-(BOOL)controllerShouldStoreCapturedAssets;
-(BOOL)allowContactSharing;
-(BOOL)allowVenueSharing;
-(void)clearCheckedMessages;
-(void)setMessageChecked:(int)arg1 checked:(BOOL)arg2 ;
-(int)checkedMessageCount;
-(void)_setMessageFlags:(int)arg1 flags:(int)arg2 ;
-(void)_setMessageViewDate:(int)arg1 viewDate:(double)arg2 ;
-(void)_setMessageFlagsAndViewDate:(int)arg1 flags:(int)arg2 viewDate:(double)arg3 ;
-(void)_createInitialSnapshot;
-(void)serviceNotificationsForMessageIds:(id)arg1 ;
-(void)markMessagesAsViewed:(id)arg1 ;
-(void)_controllerDidUpdateVisibleUnseenMessageIds:(id)arg1 ;
-(void)maybeAskForSecretWebpages;
-(void)setViewContext:(TGModernViewContext *)arg1 ;
-(void)setMediaHiddenMessageId:(int)arg1 ;
-(BOOL)useInitialSnapshot;
-(void)dealloc;
-(id)init;
-(id)userActivityData;
-(void)_setTitle:(id)arg1 ;
-(TGModernConversationController *)controller;
-(void)setController:(TGModernConversationController *)arg1 ;
-(BOOL)canDeleteMessage:(id)arg1 ;
-(void)setPreviewMode:(BOOL)arg1 ;
-(BOOL)previewMode;
@end

