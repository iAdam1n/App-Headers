/*
* This header is generated by classdump-dyld 1.0
* on Saturday, December 24, 2016 at 12:50:46 AM Greenwich Mean Time
* Operating System: Version 10.1.1 (Build 14B150)
* Image Source: /var/containers/Bundle/Application/F01A5503-B253-4A30-B0BC-B7B5406FD725/WhatsApp.app/WhatsApp
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <WhatsApp/WhatsApp-Structs.h>
#import <libobjc.A.dylib/CLLocationManagerDelegate.h>
#import <WhatsApp/NSFetchedResultsControllerDelegate.h>
#import <WhatsApp/WAUpgradeCallback.h>
#import <WhatsApp/WAMediaUploadOperationDelegate.h>
#import <WhatsApp/WAPersistentRequestManagerDataProvider.h>
#import <WhatsApp/WAPersistentRequestManagerRegistering.h>

@protocol OS_dispatch_group, OS_dispatch_queue, WAChatStorageDelegate;
@class NSOperationQueue, NSManagedObjectModel, NSPersistentStoreCoordinator, NSManagedObjectContext, NSCondition, NSMutableArray, NSFetchedResultsController, WASearchEngine, NSObject, NSMutableDictionary, NSMutableSet, WAChatSession, NSPersistentStore, WABlockedContactsList, CLLocationManager, CLLocation, NSString, NSURL;

@interface WAChatStorage : NSObject <CLLocationManagerDelegate, NSFetchedResultsControllerDelegate, WAUpgradeCallback, WAMediaUploadOperationDelegate, WAPersistentRequestManagerDataProvider, WAPersistentRequestManagerRegistering> {

	NSOperationQueue* _mediaUploadQueue;
	NSManagedObjectModel* _managedObjectModel;
	NSPersistentStoreCoordinator* _persistentStoreCoordinator;
	NSManagedObjectContext* _parentMOC;
	NSManagedObjectContext* _managedObjectContext;
	unsigned long long _saveMOCCounter;
	long long _savingMainMOCCounter;
	BOOL _processingMessages;
	NSCondition* _processMessagesCondition;
	NSMutableArray* _insertedChats;
	NSMutableArray* _deletedChats;
	NSMutableArray* _updatedChats;
	NSFetchedResultsController* _allChatsResultsController;
	NSFetchedResultsController* _pushNamesResultsController;
	WASearchEngine* _searchEngine;
	NSObject*<OS_dispatch_group> _searchEngineDispatchGroup;
	BOOL _needsToIndexMessagesForSearch;
	BOOL _needsToSpotlightIndexMessagesForSearch;
	BOOL _needsToSpotlightIndexChatSessionsForSearch;
	NSMutableDictionary* _activeDownloadIdentifiers;
	NSOperationQueue* _addMessagesOperationQueue;
	NSMutableSet* _pendingParticipantsRefreshRequests;
	NSMutableDictionary* _pendingOutgoingMessages;
	BOOL _needsRegisterSiriKitOnBecomeActive;
	WAChatSession* _statusList;
	NSObject*<OS_dispatch_queue> _backgroundFetchingQueue;
	NSObject*<OS_dispatch_queue> _chatStoreQueue;
	BOOL _groupLocationRequested;
	BOOL _didEverLoadStore;
	id<WAChatStorageDelegate> _delegate;
	NSPersistentStore* _chatStore;
	WABlockedContactsList* _blockedContactsList;
	NSMutableArray* _mediaAutodownloadRetryArray;
	NSMutableArray* _URLSessionTasksToProcessOnCreateMOC;
	CLLocationManager* _locationManager;
	CLLocation* _bestLocation;
	NSMutableSet* _locationQueue;
	CLLocation* _lastReportedLocation;
	unsigned long long _locationSharingBackgroundTask;

}

@property (nonatomic,readonly) BOOL hasChatMessages; 
@property (nonatomic,readonly) BOOL hasChatSessions; 
@property (nonatomic,readonly) BOOL hasArchivedChatSessions; 
@property (nonatomic,readonly) BOOL hasUnarchivedChatSessions; 
@property (nonatomic,readonly) unsigned long long archivedChatSessionsCount; 
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
@property (nonatomic,readonly) NSURL * preMigrationChatDatabaseFileURL; 
@property (nonatomic,readonly) unsigned long long databaseStatus; 
@property (assign,nonatomic,__weak) id<WAChatStorageDelegate> delegate;                         //@synthesize delegate=_delegate - In the implementation block
@property (nonatomic,readonly) NSPersistentStore * chatStore;                                   //@synthesize chatStore=_chatStore - In the implementation block
@property (nonatomic,readonly) WABlockedContactsList * blockedContactsList;                     //@synthesize blockedContactsList=_blockedContactsList - In the implementation block
@property (nonatomic,readonly) WASearchEngine * searchEngine;                                   //@synthesize searchEngine=_searchEngine - In the implementation block
@property (nonatomic,readonly) NSOperationQueue * mediaUploadQueue; 
@property (nonatomic,retain) NSMutableArray * mediaAutodownloadRetryArray;                      //@synthesize mediaAutodownloadRetryArray=_mediaAutodownloadRetryArray - In the implementation block
@property (nonatomic,retain) NSMutableArray * URLSessionTasksToProcessOnCreateMOC;              //@synthesize URLSessionTasksToProcessOnCreateMOC=_URLSessionTasksToProcessOnCreateMOC - In the implementation block
@property (nonatomic,retain) CLLocationManager * locationManager;                               //@synthesize locationManager=_locationManager - In the implementation block
@property (nonatomic,retain) CLLocation * bestLocation;                                         //@synthesize bestLocation=_bestLocation - In the implementation block
@property (nonatomic,retain) NSMutableSet * locationQueue;                                      //@synthesize locationQueue=_locationQueue - In the implementation block
@property (assign,nonatomic) BOOL groupLocationRequested;                                       //@synthesize groupLocationRequested=_groupLocationRequested - In the implementation block
@property (nonatomic,retain) CLLocation * lastReportedLocation;                                 //@synthesize lastReportedLocation=_lastReportedLocation - In the implementation block
@property (assign,nonatomic) unsigned long long locationSharingBackgroundTask;                  //@synthesize locationSharingBackgroundTask=_locationSharingBackgroundTask - In the implementation block
@property (nonatomic,readonly) BOOL didEverLoadStore;                                           //@synthesize didEverLoadStore=_didEverLoadStore - In the implementation block
+(void)updatePlaceholderCountForMessages:(id)arg1 ;
+(id)errorWithDescription:(id)arg1 failureReason:(id)arg2 ;
+(id)findJIDInPath:(id)arg1 ;
+(void)wa_didUpgradeFrom:(id)arg1 to:(id)arg2 ;
-(WASearchEngine *)searchEngine;
-(void)markMessages:(id)arg1 asStarred:(BOOL)arg2 notifyWebClient:(BOOL)arg3 ;
-(id)starredMessagesInChatSessionsWithJIDs:(id)arg1 startOffset:(unsigned long long)arg2 limit:(unsigned long long)arg3 ;
-(id)pushNameForJID:(id)arg1 ;
-(id)_filteredTrustedGroupJIDs:(id)arg1 ;
-(void)vCardsFromKnownContactsForWhatsAppID:(id)arg1 contactsStorage:(id)arg2 asynchronously:(BOOL)arg3 handler:(/*^block*/id)arg4 ;
-(id)_filteredTrustedJIDs:(id)arg1 contactsStorage:(id)arg2 ;
-(void)indexVCardMentionsForMessages:(id)arg1 context:(id)arg2 contactsStorage:(id)arg3 saveChanges:(BOOL)arg4 ;
-(id)vCardsFromKnownContactsForWhatsAppID:(id)arg1 ;
-(id)indexVCardMentionsForMessagesInContext:(id)arg1 startDate:(id)arg2 limit:(unsigned long long)arg3 contactsStorage:(id)arg4 ;
-(id)existingChatSessionsForJIDs:(id)arg1 prefetchingLastMessage:(BOOL)arg2 ;
-(void)setURLSessionTasksToProcessOnCreateMOC:(NSMutableArray *)arg1 ;
-(void)URLSessionManagerDidUpdateTaskProgress:(id)arg1 ;
-(void)URLSessionManagerDidFinishDownloadTask:(id)arg1 ;
-(void)URLSessionManagerDidChangeState:(id)arg1 ;
-(void)xmppConnectionStateDidChange:(id)arg1 ;
-(void)mediaDownloadPolicyDidChange:(id)arg1 ;
-(void)callLoggerDidAddEvent:(id)arg1 ;
-(void)e2eIdentityChanged:(id)arg1 ;
-(void)chatStorageDidUpdateChatSession:(id)arg1 ;
-(void)removeSearchIndex;
-(void)resendPendingReceipts;
-(void)checkMessagesForMediaAutodownload;
-(void)clearOldParticipantHistory;
-(void)setUpFetchedResultsControllers;
-(void)setUpRecurringTasksIfNeeded;
-(NSMutableArray *)URLSessionTasksToProcessOnCreateMOC;
-(void)handleCompletedURLSessionDownloadTask:(id)arg1 ;
-(void)saveAndWaitUntilDone:(BOOL)arg1 ;
-(void)saveUnconditionally:(BOOL)arg1 completion:(/*^block*/id)arg2 ;
-(BOOL)canSaveContext:(id)arg1 ;
-(BOOL)isSavingMainMOC;
-(BOOL)contextContainsUnindexedMessages:(id)arg1 ;
-(BOOL)contextContainsSpotlightUnindexedMessages:(id)arg1 ;
-(BOOL)contextContainsSpotlightUnindexedChatSessions:(id)arg1 ;
-(void)internalSaveWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)saveMainMOCOnly;
-(void)checkMOCForObjectsWithTemporaryIDs:(id)arg1 ;
-(void)saveMainMOCPendingFullSave;
-(void)saveContextAndMergeChanges:(id)arg1 usingIdentifier:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)workerMOCDidSave:(id)arg1 ;
-(id)saveNonMainManagedObjectContext:(id)arg1 ;
-(void)setLocationQueue:(NSMutableSet *)arg1 ;
-(void)setBestLocation:(CLLocation *)arg1 ;
-(void)setGroupLocationRequested:(BOOL)arg1 ;
-(id)persistentStorePath;
-(void)loadStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)dropStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)setMetadata:(id)arg1 forKey:(id)arg2 ;
-(void)registerSiriKitVocabulary;
-(void)registerSiriKitVocabularyIfNeeded;
-(void)reportChatsFieldStatsIfNeeded;
-(void)setMediaAutodownloadRetryArray:(NSMutableArray *)arg1 ;
-(void)processPendingAutodownloads;
-(NSMutableArray *)mediaAutodownloadRetryArray;
-(void)resendAllServerErrorReceiptsWithoutAck;
-(id)messageWithID:(id)arg1 inContext:(id)arg2 ;
-(id)chatSessionForJID:(id)arg1 ;
-(id)messageWithStanzaID:(id)arg1 isFromMe:(BOOL)arg2 inChatSession:(id)arg3 ;
-(id)messagesWithStanzaID:(id)arg1 inChatSession:(id)arg2 ;
-(id)messageWithStanzaID:(id)arg1 participant:(id)arg2 isFromMe:(BOOL)arg3 inChatSession:(id)arg4 ;
-(id)chatSessionForJID:(id)arg1 inContext:(id)arg2 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 eligibleForDeletionIfEmpty:(BOOL)arg3 ;
-(id)createChatSessionWithSubject:(id)arg1 groupJID:(id)arg2 groupNotification:(id)arg3 ;
-(void)requestInfoForGroupWithJID:(id)arg1 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 eligibleForDeletionIfEmpty:(BOOL)arg3 hidden:(BOOL)arg4 ;
-(void)setChatSession:(id)arg1 archived:(BOOL)arg2 notifyWebClient:(BOOL)arg3 saveChanges:(BOOL)arg4 ;
-(void)receiveChatMessages:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)updateChatSessionWithMessage:(id)arg1 ;
-(id)addParticipantWithJID:(id)arg1 toChatSession:(id)arg2 participantIsActive:(BOOL)arg3 ;
-(id)tryToHardLinkMessage:(id)arg1 forJID:(id)arg2 ;
-(void)didFinishDownloadingMediaInMessage:(id)arg1 ackRef:(id)arg2 toRelativePath:(id)arg3 usingLocalCopy:(BOOL)arg4 ;
-(void)queueMediaDownloadForMessage:(id)arg1 autodownload:(BOOL)arg2 ;
-(void)internalReceiveChatMessages:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)groupMembersWithJIDs:(id)arg1 ;
-(id)newChatSessionWithJID:(id)arg1 ;
-(void)addMessage:(id)arg1 fromGroupMember:(id)arg2 toChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)updatePushNamesForJIDsIfNeeded:(id)arg1 ;
-(id)messageWithStanzaID:(id)arg1 isFromMe:(BOOL)arg2 inChatSessionWithJID:(id)arg3 ;
-(void)delayedSave;
-(id)sentMessagesWithStanzaIDs:(id)arg1 jid:(id)arg2 ;
-(void)reuploadMediaInMessage:(id)arg1 requesterIsWebClient:(BOOL)arg2 completion:(/*^block*/id)arg3 ;
-(void)sendMessage:(id)arg1 notify:(BOOL)arg2 ;
-(BOOL)isChatSessionForExistingUser:(id)arg1 ;
-(void)storeModifiedMessage:(id)arg1 notify:(BOOL)arg2 ;
-(void)receiveError:(id)arg1 forMessage:(id)arg2 ;
-(void)startMediaUploadForMessage:(id)arg1 ;
-(void)requestLocationForMessage:(id)arg1 ;
-(id)outgoingMessageTemplateForSession:(id)arg1 withMedia:(BOOL)arg2 ;
-(void)removeInvalidMentionsFromMessage:(id)arg1 forForwardingToChatSession:(id)arg2 ;
-(id)copyMessage:(id)arg1 toChatSession:(id)arg2 fullCopy:(BOOL)arg3 ;
-(void)startMediaUploadForMessages:(id)arg1 ;
-(id)sendMessageWithText:(id)arg1 metadata:(id)arg2 multicast:(BOOL)arg3 replyingToMessage:(id)arg4 inChatSession:(id)arg5 ;
-(void)sendMessageWithImage:(id)arg1 caption:(id)arg2 collectionID:(id)arg3 replyingToMessage:(id)arg4 inChatSession:(id)arg5 completion:(/*^block*/id)arg6 ;
-(void)sendMessageWithMedia:(id)arg1 ;
-(void)sendVideoAtURL:(id)arg1 isGIF:(BOOL)arg2 gifProvider:(id)arg3 caption:(id)arg4 collectionID:(id)arg5 cameraRollReferenceUrl:(id)arg6 replyingToMessage:(id)arg7 inChatSession:(id)arg8 completion:(/*^block*/id)arg9 ;
-(void)multicastMessage:(id)arg1 intoChatSessions:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)markChatSessionAsTrusted:(id)arg1 fromWebClient:(BOOL)arg2 ;
-(void)setChatSession:(id)arg1 archived:(BOOL)arg2 ;
-(id)receivedVoiceMessagesWithStanzaID:(id)arg1 ;
-(id)receivedMessagesWithStanzaID:(id)arg1 ;
-(void)changeStatus:(int)arg1 forOutgoingMessages:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 userData:(id)arg5 playSound:(out BOOL*)arg6 ;
-(void)requestInfoForGroupWithJID:(id)arg1 requestType:(unsigned long long)arg2 ;
-(void)reportFieldStatsForSentMessage:(id)arg1 sentSuccess:(BOOL)arg2 ;
-(void)deleteChatSession:(id)arg1 fromWebClient:(BOOL)arg2 ;
-(id)replaceChatSessionWithEmptySession:(id)arg1 ;
-(void)locationRequestFinishedWithLocation:(id)arg1 userInfo:(id)arg2 ;
-(void)locationRequestFailedWithError:(id)arg1 userInfo:(id)arg2 ;
-(void)requestLocationWithCallbackDictionary:(id)arg1 ;
-(NSMutableSet *)locationQueue;
-(void)useBestLocationResult:(id)arg1 ;
-(void)startLocationManagerIfNecessary;
-(unsigned long long)locationSharingBackgroundTask;
-(void)setLocationSharingBackgroundTask:(unsigned long long)arg1 ;
-(void)stopLocationManagerIfPossible;
-(void)stopGroupLocationSharing;
-(BOOL)groupLocationRequested;
-(CLLocation *)bestLocation;
-(CLLocation *)lastReportedLocation;
-(void)setLastReportedLocation:(CLLocation *)arg1 ;
-(NSPersistentStore *)chatStore;
-(id)metadataForKey:(id)arg1 ;
-(void)addE2ELockMessageToChatSession:(id)arg1 ;
-(void)addE2EIdentityChangeEventToChatSession:(id)arg1 groupMember:(id)arg2 ;
-(long long)calculateStandardTarSizeForCount:(unsigned long long)arg1 ;
-(unsigned long long)sizeForMediaOfType:(int)arg1 ;
-(unsigned long long)countAllMessagesOfType:(int)arg1 ;
-(long long)calculateThumbnailTARExpectedSizeForSmallItemCount:(unsigned long long)arg1 largeItemCount:(unsigned long long)arg2 documentItemCount:(unsigned long long)arg3 ;
-(long long)calculateMediaTARExpectedSizeWithItemCount:(unsigned long long)arg1 shouldCancel:(/*^block*/id)arg2 ;
-(long long)calculateVideoTARExpectedSizeWithItemCount:(unsigned long long)arg1 ;
-(unsigned long long)calculateDocumentTARExpectedSizeWithItemCount:(unsigned long long)arg1 ;
-(void)calculateDatabaseSizes:(SCD_Struct_WA24*)arg1 ;
-(void)saveContextAndMergeChanges:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)filePathsForProperty:(id)arg1 ofTypes:(id)arg2 shouldCancel:(/*^block*/id)arg3 ;
-(unsigned long long)countEntitiesOfType:(Class)arg1 withPredicate:(id)arg2 ;
-(id)outgoingMessageWithSharedItem:(id)arg1 ;
-(void)postGlobalChatSessionUpdateNotification;
-(void)performAfterInit;
-(void)performBeforeStoreAdd;
-(void)performAfterStoreAdd;
-(void)performBeforeStoreDrop;
-(void)performAfterStoreDrop;
-(void)performAfterMOCCreated;
-(void)changeAfterRestore;
-(void)markAsCorrupted;
-(id)chatSessionsForContactsUpdateInContext:(id)arg1 ;
-(id)chatSessionWithObjectID:(id)arg1 ;
-(id)existingChatSessionsForContact:(id)arg1 includeLinkedContacts:(BOOL)arg2 ;
-(BOOL)chatSessionsWithJIDsContainMessages:(id)arg1 ;
-(BOOL)hasChatMessages;
-(BOOL)hasChatSessions;
-(unsigned long long)archivedChatSessionsCount;
-(BOOL)hasArchivedChatSessions;
-(BOOL)hasUnarchivedChatSessions;
-(id)jidsOfAllPotentialChatPartnersInContext:(id)arg1 ;
-(long long)compareNumberOfMessagesInChatSession:(id)arg1 withNumber:(unsigned long long)arg2 ;
-(id)messagesForSession:(id)arg1 startOffset:(unsigned long long)arg2 limit:(unsigned long long)arg3 saveBeforeFetch:(BOOL)arg4 ;
-(id)unreadMessagesForSession:(id)arg1 startOffset:(unsigned long long)arg2 ;
-(unsigned long long)countOfMessagesAfterMessage:(id)arg1 ;
-(id)messagesWithStanzaIDs:(id)arg1 isFromMe:(BOOL)arg2 inContext:(id)arg3 ;
-(id)messageWithID:(id)arg1 ;
-(id)refetchAllMessages:(id)arg1 ;
-(id)messageWithStanzaID:(id)arg1 participant:(id)arg2 isFromMe:(BOOL)arg3 inChatSessionWithJID:(id)arg4 ;
-(id)messageWithMessageID:(id)arg1 inContext:(id)arg2 ;
-(id)newOrExistingChatSessionForJID:(id)arg1 ;
-(id)createChatSessionForContact:(id)arg1 JID:(id)arg2 ;
-(void)setAllChatSessionsArchived:(BOOL)arg1 ;
-(void)updateMessage:(id)arg1 withDataFromStanza:(id)arg2 ;
-(void)updateMessage:(id)arg1 withDataFromProtobuf:(id)arg2 ;
-(void)updateMessage:(id)arg1 withData:(id)arg2 encVersion:(int)arg3 ;
-(id)messagePlaceholderForStanza:(id)arg1 ;
-(void)insertNewIncomingHSMMessageWithText:(id)arg1 messageContainer:(id)arg2 completion:(/*^block*/id)arg3 ;
-(id)sentMessagesWithStanzaID:(id)arg1 jid:(id)arg2 ;
-(void)receivedServerErrorAckForStanzaID:(id)arg1 fromJID:(id)arg2 participantJID:(id)arg3 ;
-(void)receivedServerErrorForStanzaIDs:(id)arg1 fromJID:(id)arg2 participantJID:(id)arg3 ;
-(void)retrySendingMessage:(id)arg1 ;
-(void)forwardMessages:(id)arg1 toChatSessions:(id)arg2 ;
-(id)sendMessageWithText:(id)arg1 metadata:(id)arg2 replyingToMessage:(id)arg3 inChatSession:(id)arg4 ;
-(void)sendMessageWithImage:(id)arg1 caption:(id)arg2 replyingToMessage:(id)arg3 inChatSession:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)sendVideoAtURL:(id)arg1 caption:(id)arg2 collectionID:(id)arg3 cameraRollReferenceUrl:(id)arg4 replyingToMessage:(id)arg5 inChatSession:(id)arg6 completion:(/*^block*/id)arg7 ;
-(void)sendDocumentAttachment:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(id)messageWithAudioFilePath:(id)arg1 quotedMessage:(id)arg2 inChatSession:(id)arg3 origin:(int)arg4 durationSeconds:(long long)arg5 doNotUpload:(BOOL)arg6 streaming:(BOOL)arg7 voicemail:(BOOL)arg8 streamingHash:(id)arg9 mediaKey:(id)arg10 error:(out id*)arg11 ;
-(void)sendPlace:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)sendVCard:(id)arg1 replyingToMessage:(id)arg2 inChatSession:(id)arg3 ;
-(void)sendMessageWithText:(id)arg1 metadata:(id)arg2 toChatSessions:(id)arg3 ;
-(void)sendMessageWithImage:(id)arg1 caption:(id)arg2 collectionID:(id)arg3 toChatSessions:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)sendVideoAtURL:(id)arg1 isGIF:(BOOL)arg2 gifProvider:(id)arg3 caption:(id)arg4 collectionID:(id)arg5 cameraRollReferenceUrl:(id)arg6 toChatSessions:(id)arg7 completion:(/*^block*/id)arg8 ;
-(void)changeStatus:(int)arg1 forIncomingMessageWithStanzaID:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 ;
-(void)changeStatus:(int)arg1 forOutgoingMessagesWithStanzaIDs:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 userData:(id)arg5 playSound:(out BOOL*)arg6 ;
-(void)deleteChatSession:(id)arg1 ;
-(void)deleteAllChatSessions;
-(void)clearChatSession:(id)arg1 ;
-(void)clearAllChatSessions;
-(void)deleteAllMessagesInSession:(id)arg1 ;
-(void)deleteMessages:(id)arg1 inChatSession:(id)arg2 fromWebClient:(BOOL)arg3 ;
-(void)didBulkDeleteMessagesInChatSession:(id)arg1 beforeDate:(id)arg2 includingStarredMessages:(BOOL)arg3 fromWebClient:(BOOL)arg4 ;
-(void)debug_deleteAllOrphanedMessagesNow;
-(void)startGroupLocationSharingForDuration:(double)arg1 ;
-(void)locationUpdatesRequestExpired;
-(void)saveBlockedJIDs:(id)arg1 ;
-(void)debug_resetIdentityVerificationLockForAllChats;
-(void)resetVerificationStateChecksForAllChats;
-(void)upgradeChatSession:(id)arg1 toIdentityVerificationState:(short)arg2 onMessageSend:(BOOL)arg3 ;
-(void)finishProcessingRemainingMessages;
-(void)calculatePotentialBackupSize:(SCD_Struct_WA25*)arg1 shouldCancel:(/*^block*/id)arg2 ;
-(id)estimatedVideoUploadSize;
-(id)thumbnailFilePathsShouldCancel:(/*^block*/id)arg1 ;
-(id)tarFilePathsOfTypes:(id)arg1 shouldCancel:(/*^block*/id)arg2 ;
-(unsigned long long)countOfMessages;
-(id)outgoingMessagesInSharedItemOutbox:(id)arg1 ;
-(void)deleteAllMedia;
-(unsigned long long)databaseStatus;
-(void)loadStoreNowWithCompletionHandler:(/*^block*/id)arg1 ;
-(WABlockedContactsList *)blockedContactsList;
-(id)statusList;
-(id)mostContactedChatsWithPreferredContentType:(long long)arg1 limit:(unsigned long long)arg2 ;
-(id)downloadedStarredMessagesOfType:(int)arg1 startOffset:(unsigned long long)arg2 limit:(unsigned long long)arg3 ;
-(id)predicateForChatsWithJIDs:(id)arg1 orName:(id)arg2 ;
-(void)searchChatSessionsWithPredicate:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)predicateForCommonGroupsWithJIDs:(id)arg1 ;
-(id)predicateForGroupsWithSubject:(id)arg1 ;
-(void)searchChatsWithContacts:(id)arg1 orName:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)searchCommonGroupsWithContacts:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)searchGroupsWithSubjectMatchingSearchText:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)groupsMatchingText:(id)arg1 ;
-(void)searchMessagesMatchingText:(id)arg1 chatSessionJIDs:(id)arg2 starredOnly:(BOOL)arg3 type:(long long)arg4 offset:(unsigned long long)arg5 limit:(unsigned long long)arg6 completion:(/*^block*/id)arg7 ;
-(BOOL)didEverLoadStore;
-(BOOL)loadPersistentStore;
-(void)loadStoreWhenPossibleWithCompletionHandler:(/*^block*/id)arg1 thatShouldRunOnMainThread:(BOOL)arg2 ;
-(id)profilePictureItemForJID:(id)arg1 inContext:(id)arg2 ;
-(BOOL)isDataProviderAvailableToPersistentRequestManager:(id)arg1 ;
-(id)persistentRequestManager:(id)arg1 managedObjectWithURIRepresentation:(id)arg2 ;
-(id)sharedObjectKeyForPersistentRequestManager:(id)arg1 ;
-(void)registerHandlersForPersistentRequestManager:(id)arg1 ;
-(void)sendChatStorageDidLoadDatabaseNotification;
-(id)allChatSessionsWithPrefetchedRelationships:(id)arg1 includeBroadcastLists:(BOOL)arg2 ;
-(id)allGroupChatSessionsInManagedObjectContext:(id)arg1 ;
-(id)profilePictureItemForJID:(id)arg1 ;
-(NSOperationQueue *)mediaUploadQueue;
-(id)libraryMediaKeyForMediaItemWithHash:(id)arg1 ;
-(id)blockedJIDs;
-(id)sortedBroadcastLists;
-(id)allMemberJIDsInBroadcastList:(id)arg1 ;
-(id)chatSessionsWithVerificationState:(short)arg1 inContext:(id)arg2 ;
-(id)existingChatSessionForJID:(id)arg1 ;
-(void)pushNamesForJIDs:(id)arg1 asynchronously:(BOOL)arg2 handler:(/*^block*/id)arg3 ;
-(id)searchProfilePushNameInMemoryForJID:(id)arg1 ;
-(id)allChatSessions;
-(id)historicGroupParticipantsForGroup:(id)arg1 phash:(id)arg2 ;
-(void)markChatSessionAsSpam:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(id)streamingUploadingOperationForMediaAtPath:(id)arg1 ;
-(void)syncStatusListMembers;
-(void)requestParticipatingGroups:(BOOL)arg1 withCompletion:(/*^block*/id)arg2 ;
-(void)syncGroupsOnlyIfNecessary;
-(void)requestListsIfNeeded;
-(id)addParticipantWithJID:(id)arg1 contact:(id)arg2 toChatSession:(id)arg3 participantIsActive:(BOOL)arg4 joinedViaInvite:(BOOL)arg5 addGroupEvent:(BOOL)arg6 eventTimestamp:(id)arg7 groupNotification:(id)arg8 ;
-(void)removeParticipantsWithJIDs:(id)arg1 fromChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)finishCreationOfGroupWithTempJID:(id)arg1 usingXMPPGroup:(id)arg2 ;
-(void)createOrUpdateChatSession:(id)arg1 withXMPPGroup:(id)arg2 groupNotification:(id)arg3 ;
-(void)modifyParticipantInChatSession:(id)arg1 oldJID:(id)arg2 newJID:(id)arg3 timestamp:(id)arg4 ;
-(void)promoteParticipantsWithJIDs:(id)arg1 inChatSession:(id)arg2 notification:(id)arg3 ;
-(void)demoteParticipantsWithJIDs:(id)arg1 inChatSession:(id)arg2 notification:(id)arg3 ;
-(void)endGroupWithWAChatSession:(id)arg1 participantUnknown:(BOOL)arg2 groupNotification:(id)arg3 ;
-(void)setLockedState:(BOOL)arg1 forChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)changeSubject:(id)arg1 forChatSession:(id)arg2 groupNotification:(id)arg3 ;
-(void)retryMediaDownloadForMessage:(id)arg1 ;
-(void)cancelAllUploads;
-(id)messagesInChatSession:(id)arg1 count:(unsigned long long)arg2 withOrder:(unsigned long long)arg3 relativeToStanzaID:(id)arg4 isFromMe:(BOOL)arg5 participant:(id)arg6 ofMediaTypeOnly:(BOOL)arg7 ;
-(id)messagesInChatSession:(id)arg1 afterMessage:(id)arg2 count:(unsigned long long)arg3 ;
-(id)recentMessagesInChatSession:(id)arg1 isActiveOnWeb:(BOOL)arg2 ;
-(id)allOutgoingMessagesAndPTTInChatSessionIncludingAndAfterMessage:(id)arg1 ;
-(void)relayOutgoingMessage:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)messagesWithMessageIDs:(id)arg1 inChatSession:(id)arg2 ;
-(void)requestRemovalOfMemberJIDs:(id)arg1 fromGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)requestAdditionOfMemberJIDs:(id)arg1 contacts:(id)arg2 toGroupWithJID:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)requestPromotionOfMemberWithJID:(id)arg1 inGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)requestToLeaveGroupWithJID:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)requestSubjectChangeForGroupWithJID:(id)arg1 to:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)createChatSessionForContactJIDs:(id)arg1 subject:(id)arg2 picture:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(id)starredMessagesInChatSessionsWithJIDs:(id)arg1 olderThanMessageID:(id)arg2 startOffset:(unsigned long long)arg3 limit:(unsigned long long)arg4 ;
-(void)fetchLocationMessagesInChatSession:(id)arg1 afterDate:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)fetchPushNamesForActiveParticipantsInGroupWithJID:(id)arg1 handler:(/*^block*/id)arg2 ;
-(void)migrateChatDatabaseWithCompletionHandler:(/*^block*/id)arg1 ;
-(id)lastIncomingMessagesInChatSession:(id)arg1 ;
-(void)markCallAsSpam:(id)arg1 calleeJID:(id)arg2 callerJID:(id)arg3 isVideo:(BOOL)arg4 durationInMiliseconds:(int)arg5 terminatorJID:(id)arg6 terminationReason:(id)arg7 ;
-(BOOL)tryToHardLinkItemAtPath:(id)arg1 toFileHash:(id)arg2 ;
-(void)mediaUploadOperation:(id)arg1 uploadItem:(id)arg2 progressChanged:(double)arg3 ;
-(void)fetchChatHistoryYearsForJID:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)fetchChatHistoryMonthsForJID:(id)arg1 year:(long long)arg2 completion:(/*^block*/id)arg3 ;
-(id)firstMessageInChatSession:(id)arg1 forDate:(id)arg2 ;
-(void)abortMediaUploadDownloadOperationForMessage:(id)arg1 ;
-(void)addGroupPictureChangeEventToWAChatSession:(id)arg1 authorJID:(id)arg2 timestamp:(id)arg3 ;
-(void)addGroupPictureDeleteEventToWAChatSession:(id)arg1 authorJID:(id)arg2 timestamp:(id)arg3 ;
-(BOOL)hasGroupChatSessions;
-(void)createChatSessionForContacts:(id)arg1 subject:(id)arg2 picture:(id)arg3 webClientRequestID:(id)arg4 completion:(/*^block*/id)arg5 ;
-(void)retryGroupCreateForChatSession:(id)arg1 ;
-(void)removeGroupMember:(id)arg1 fromList:(id)arg2 createGroupEvent:(BOOL)arg3 ;
-(BOOL)addGroupMemberWithInfo:(id)arg1 toList:(id)arg2 createGroupEvent:(BOOL)arg3 ;
-(unsigned long long)countSentMedia;
-(BOOL)hasSufficientFreeDiskSpaceForSearchIndexing;
-(void)reportSearchIndexStatsIfNeededWithLastIndexedMessagesCount:(long long)arg1 completion:(/*^block*/id)arg2 ;
-(id)task_deleteMessages;
-(id)task_deleteExpiredMessages;
-(id)task_indexMessages;
-(id)task_extractWebURLs;
-(id)task_deleteMessagesWithoutChatSessions;
-(id)task_retryIndexMessages;
-(id)task_indexVCardsMentions;
-(void)enqueueOutgoingMessage:(id)arg1 ;
-(void)sendMessageInOrder:(id)arg1 notifyWhenDone:(BOOL)arg2 ;
-(void)mediaUploadOperation:(id)arg1 didFinishUploadingItem:(id)arg2 ;
-(void)mediaUploadOperation:(id)arg1 uploadItem:(id)arg2 withError:(id)arg3 ;
-(id)messagePlaceholderForWebMessageInfo:(id)arg1 ;
-(void)reallyRelayOutgoingMessage:(id)arg1 ;
-(id)createNewList;
-(void)addInitialGroupEventToNewList:(id)arg1 ;
-(NSURL *)preMigrationChatDatabaseFileURL;
-(id)validMessageObjectIDsInMediaItems:(id)arg1 context:(id)arg2 ;
-(void)reportMigrationTimeFieldStatsWithDuration:(double)arg1 databaseSize:(long long)arg2 ;
-(void)migrateChatSessionPropertiesInContext:(id)arg1 ;
-(void)migrateGroupAdminAndCreatorInContext:(id)arg1 ;
-(void)migrateChatNotificationSettingsInContext:(id)arg1 ;
-(void)resetSearchStatusOfMessagesSatisfyingPredicate:(id)arg1 inContext:(id)arg2 ;
-(BOOL)addMediaSectionIDToAllMessagesInContext:(id)arg1 ;
-(void)migrateProfilePictureItemInChatContext:(id)arg1 contactsContext:(id)arg2 ;
-(id)libraryPathToMediaItemWithHash:(id)arg1 returningSize:(CGSize*)arg2 ;
-(void)cancelMediaDownloadForMessage:(id)arg1 ;
-(id)downloadTaskDataWithMessage:(id)arg1 autodownload:(BOOL)arg2 ;
-(id)messageWithDownloadIdentifier:(id)arg1 ;
-(void)didFailToDownloadMediaInMessage:(id)arg1 autodownload:(BOOL)arg2 error:(id)arg3 ;
-(id)messagesWithDownloadIdentifiers:(id)arg1 ;
-(void)cancelFileUploadForMessage:(id)arg1 ;
-(BOOL)isJID:(id)arg1 participantInGroupWithJID:(id)arg2 ;
-(id)earliestAndLatestMessageDateInChatSession:(id)arg1 year:(long long)arg2 ;
-(long long)numberOfMessagesInChatSession:(id)arg1 fromDate:(id)arg2 toDate:(id)arg3 ;
-(void)internalFetchChatHistoryForChatWithJID:(id)arg1 year:(long long)arg2 completion:(/*^block*/id)arg3 ;
-(void)removeWAGroupMember:(id)arg1 fromChatSession:(id)arg2 syncDelete:(BOOL)arg3 groupNotification:(id)arg4 ;
-(void)requestGroupCreateForChatSession:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)requestParticipatingGroups:(BOOL)arg1 retryIfNecessary:(BOOL)arg2 requestType:(unsigned long long)arg3 withCompletion:(/*^block*/id)arg4 ;
-(void)updateParticipantsForGroupJid:(id)arg1 changeTime:(id)arg2 jids:(id)arg3 oldPhash:(id)arg4 changeAction:(int)arg5 ;
-(id)assignNewBroadcastJID;
-(id)createMessageTemplateForGroupEventInList:(id)arg1 ;
-(void)requestAndMergeAllListsFromServerWithCompletionHandler:(/*^block*/id)arg1 ;
-(id)insertListIfNeeded:(id)arg1 inContext:(id)arg2 ;
-(id)existingStatusList;
-(void)requestGroupEndForWAChatSession:(id)arg1 ;
-(BOOL)removeDocIDColumnUsingBatchUpdate;
-(BOOL)removeDocIDColumnUsingLightweightMigration;
-(BOOL)migrateStoreAtURL:(id)arg1 toModel:(id)arg2 ;
-(id)chatSessionsMostContactedSince:(id)arg1 preferredContentType:(long long)arg2 limit:(unsigned long long)arg3 ;
-(void)controller:(id)arg1 didChangeObject:(id)arg2 atIndexPath:(id)arg3 forChangeType:(unsigned long long)arg4 newIndexPath:(id)arg5 ;
-(void)controllerDidChangeContent:(id)arg1 ;
-(void)controllerWillChangeContent:(id)arg1 ;
-(id)init;
-(void)setDelegate:(id<WAChatStorageDelegate>)arg1 ;
-(void)dealloc;
-(id<WAChatStorageDelegate>)delegate;
-(void)applicationDidBecomeActive:(id)arg1 ;
-(void)applicationWillEnterForeground:(id)arg1 ;
-(void)didReceiveMemoryWarning:(id)arg1 ;
-(id)managedObjectContext;
-(void)deleteStorage;
-(CLLocationManager *)locationManager;
-(void)setLocationManager:(CLLocationManager *)arg1 ;
-(void)locationManager:(id)arg1 didUpdateToLocation:(id)arg2 fromLocation:(id)arg3 ;
-(void)locationManager:(id)arg1 didFailWithError:(id)arg2 ;
-(void)save;
-(id)persistentStoreURL;
-(id)newManagedObjectContext;
-(void)cancelAllDownloads;
-(void)saveWithCompletionHandler:(/*^block*/id)arg1 ;
@end

