/*
* This header is generated by classdump-dyld 1.0
* on Saturday, December 24, 2016 at 12:50:46 AM Greenwich Mean Time
* Operating System: Version 10.1.1 (Build 14B150)
* Image Source: /var/containers/Bundle/Application/F01A5503-B253-4A30-B0BC-B7B5406FD725/WhatsApp.app/WhatsApp
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <WhatsApp/WhatsApp-Structs.h>
#import <WhatsApp/XMPPStreamDelegate.h>
#import <WhatsApp/WAPersistentRequestManagerRegistering.h>

@protocol OS_dispatch_source, XMPPConnectionDelegate, XMPPConnectionTestDelegate, OS_dispatch_queue;
@class WATimer, NSMutableSet, NSMutableDictionary, NSMutableArray, NSObject, NSDictionary, NSString, XMPPConnectionConfiguration, WAFieldStatsEventChatConnectionProbe, XMPPStream, XMPPPassiveModeManager, NSNumber;

@interface XMPPConnection : NSObject <XMPPStreamDelegate, WAPersistentRequestManagerRegistering> {

	WATimer* _updatePresenceTimer;
	NSMutableSet* _deferredSubscribes;
	NSMutableDictionary* _clientData;
	unsigned long long _lastSentPresence;
	NSMutableDictionary* _callTimers;
	NSMutableDictionary* _unsentCallStanzas;
	NSMutableArray* _pendingRequests;
	BOOL _firstOfflineMessageReceived;
	NSMutableArray* _recentlySentAcks;
	NSMutableArray* _acks;
	NSMutableDictionary* _sentReadReceipts;
	NSMutableArray* _readReceiptsToProcess;
	NSObject*<OS_dispatch_source> _delayedProcessTimer;
	double _connectionStartTime;
	id _incomingMessageHandler;
	NSMutableDictionary* _messageTimers;
	double _connectionAttemptStartTime;
	NSObject*<OS_dispatch_source> _checkConnectionTimer;
	NSObject*<OS_dispatch_source> _checkFieldStatsTimer;
	int _connectionHandlersLock;
	NSMutableArray* _connectionHandlers;
	int _stateLock;
	NSDictionary* _stateChangeCallbacks;
	unsigned long long _state;
	AQ _networkStatusULong;
	NSString* _radioAccessTechnology;
	XMPPConnectionConfiguration* _config;
	unsigned long long _backgroundConnectionAttempts;
	unsigned long long _foregroundConnectionAttempts;
	BOOL _voipNetworkDidChange;
	BOOL _checkConnectionScheduledOnStateChange;
	NSMutableArray* _connectionConditionals;
	BOOL _isConnectionCheckingInProgress;
	BOOL _isDisconnectRequested;
	long long _suppressReconnectCounter;
	NSMutableArray* _internalDisconnectCallbacks;
	SCNetworkReachabilityRef _reachabilityRef;
	SCD_Struct_XM29* _reachabilityContext;
	BOOL _isCheckingInternetConnection;
	NSString* _lastConnectionErrorMessage;
	unsigned long long _xmppAuthNetworkStatus;
	WAFieldStatsEventChatConnectionProbe* _connectionProbe;
	double _connectAttemptStartTime;
	unsigned long long _busyConnectionTask;
	BOOL _active;
	long long _lastOfflineQueueCount;
	double _voipPushDelayWithSkew;
	double _serverTimeShift;
	NSString* _serverPropsVersion;
	id<XMPPConnectionDelegate> _delegate;
	id<XMPPConnectionTestDelegate> _testDelegate;
	XMPPStream* _stream;
	NSObject*<OS_dispatch_queue> _xmppQueue;
	XMPPPassiveModeManager* _passiveModeManager;

}

@property (copy) NSString * serverPropsVersion;                                               //@synthesize serverPropsVersion=_serverPropsVersion - In the implementation block
@property (assign) long long lastOfflineQueueCount;                                           //@synthesize lastOfflineQueueCount=_lastOfflineQueueCount - In the implementation block
@property (getter=isConnectedInternal,readonly) BOOL connectedInternal; 
@property (assign,getter=isActive,nonatomic) BOOL active;                                     //@synthesize active=_active - In the implementation block
@property (readonly) unsigned long long state; 
@property (getter=isConnected,readonly) BOOL connected; 
@property (readonly) unsigned long long networkStatus; 
@property (readonly) unsigned long long serverConnectionStatus; 
@property (assign) double voipPushDelayWithSkew;                                              //@synthesize voipPushDelayWithSkew=_voipPushDelayWithSkew - In the implementation block
@property (nonatomic,copy,readonly) NSString * networkStatusErrorMessage; 
@property (nonatomic,copy,readonly) NSString * genericNetworkErrorMessage; 
@property (assign) double serverTimeShift;                                                    //@synthesize serverTimeShift=_serverTimeShift - In the implementation block
@property (assign,nonatomic,__weak) id<XMPPConnectionDelegate> delegate;                      //@synthesize delegate=_delegate - In the implementation block
@property (assign,nonatomic,__weak) id<XMPPConnectionTestDelegate> testDelegate;              //@synthesize testDelegate=_testDelegate - In the implementation block
@property (nonatomic,readonly) XMPPStream * stream;                                           //@synthesize stream=_stream - In the implementation block
@property (nonatomic,readonly) NSObject*<OS_dispatch_queue> xmppQueue;                        //@synthesize xmppQueue=_xmppQueue - In the implementation block
@property (readonly) XMPPPassiveModeManager * passiveModeManager;                             //@synthesize passiveModeManager=_passiveModeManager - In the implementation block
@property (nonatomic,readonly) NSString * currentIP; 
@property (nonatomic,readonly) NSString * currentHost; 
@property (nonatomic,readonly) NSNumber * currentPort; 
@property (readonly) unsigned long long hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
+(id)stateToString:(unsigned long long)arg1 ;
-(void)getProfilePictureForJID:(id)arg1 type:(unsigned long long)arg2 identifier:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)respondWithNotificationToServerErrorReceiptForMessage:(id)arg1 toParticipant:(id)arg2 ;
-(void)sendReadReceiptsForChatMessages:(id)arg1 ;
-(void)sendPlayedReceiptForMessage:(id)arg1 ;
-(void)reportLocation:(id)arg1 ;
-(void)changeStatus:(int)arg1 forIncomingMessageWithStanzaID:(id)arg2 fromJID:(id)arg3 participantJID:(id)arg4 ;
-(unsigned long long)sendStreamElement:(id)arg1 withTimeout:(double)arg2 fromExclusiveConnection:(id)arg3 ignoreExclusiveConnection:(BOOL)arg4 ;
-(void)updateLastSeenTimestamp;
-(void)performBlock:(/*^block*/id)arg1 onQueue:(id)arg2 onConnectionState:(unsigned long long)arg3 ;
-(void)resetConnectionAttempts;
-(void)updatePresence;
-(void)disconnectIfStuckInConnecting;
-(void)handleRemotePushWithPayload:(id)arg1 ;
-(void)reportVoipPushDelay:(double)arg1 ;
-(NSString *)networkStatusErrorMessage;
-(NSObject*<OS_dispatch_queue>)xmppQueue;
-(long long)lastOfflineQueueCount;
-(double)serverTimeShift;
-(NSString *)genericNetworkErrorMessage;
-(void)setTwoFactorAuthenticationCode:(id)arg1 email:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)removeTwoFactorAuthenticationWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)checkIfUserHasTwoFactorAuthenticationWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)sendGlobalPushConfig:(id)arg1 customSettings:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)registerConnectionConditional:(/*^block*/id)arg1 onQueue:(id)arg2 ;
-(id)sharedObjectKeyForPersistentRequestManager:(id)arg1 ;
-(void)registerHandlersForPersistentRequestManager:(id)arg1 ;
-(unsigned long long)serverConnectionStatus;
-(void)resetConnectionAttemptsImpl;
-(unsigned long long)sendStreamElement:(id)arg1 ;
-(void)setXmppUser:(id)arg1 ;
-(void)passiveModeManagerDidRequestStateChangeTo:(unsigned long long)arg1 ;
-(void)checkFieldStats;
-(void)radioAccessTechnologyDidChange:(id)arg1 ;
-(void)setServerTimeShift:(double)arg1 ;
-(void)setVoipPushDelayWithSkew:(double)arg1 ;
-(void)performBlockOnXMPPQueue:(/*^block*/id)arg1 ;
-(BOOL)isRequestPending:(id)arg1 ;
-(NSNumber *)currentPort;
-(void)logConnectionAttemptErrorMessageIfNeeded:(id)arg1 ;
-(BOOL)isConnectedInternal;
-(void)invalidateAllMessageAndCallTimers;
-(void)startMessageTimeout:(id)arg1 ;
-(void)updateLastSentChatState:(unsigned long long)arg1 forJID:(id)arg2 ;
-(void)internalRequestEncUploadUrlForHash:(id)arg1 messageType:(int)arg2 mediaOrigin:(int)arg3 mediaIndex:(long long)arg4 totalMediaCount:(long long)arg5 completion:(/*^block*/id)arg6 ;
-(void)sendIQResponse:(id)arg1 ignoringExclusiveConnection:(BOOL)arg2 ;
-(unsigned long long)sendStreamElement:(id)arg1 withMaybeTimeout:(id)arg2 fromExclusiveConnection:(id)arg3 ignoreExclusiveConnection:(BOOL)arg4 ;
-(XMPPPassiveModeManager *)passiveModeManager;
-(void)leavePassiveModeIfNeeded;
-(void)performCommonOnStreamOpen;
-(void)sendPresenceWithNickname:(id)arg1 ;
-(void)resendAllPendingRequests;
-(void)performOnStreamOpen;
-(double)voipPushDelayWithSkew;
-(void)setServerPropsVersion:(NSString *)arg1 ;
-(void)processIncomingIQ:(id)arg1 ;
-(void)processIncomingMessages:(id)arg1 ;
-(void)processIncomingPresence:(id)arg1 ;
-(void)processIncomingAck:(id)arg1 ;
-(id<XMPPConnectionTestDelegate>)testDelegate;
-(void)processIncomingChatState:(id)arg1 ;
-(void)processIncomingNotification:(id)arg1 ;
-(void)setLastOfflineQueueCount:(long long)arg1 ;
-(void)notifyConnectionHandlersOfOfflineMarker;
-(void)processIncomingCustomStanza:(id)arg1 ;
-(void)resetPresenceStateOnStreamClose;
-(BOOL)isSocketHealthy;
-(void)forceLeaveFetchOfflineStateIfNeeded;
-(void)connectIfPossible;
-(void)checkIfConnectionIsAllowedWithCompletionHandler:(/*^block*/id)arg1 ;
-(BOOL)shouldBindToCellular:(BOOL)arg1 ;
-(void)setFakeIpHintIfNecessary;
-(void)reallyConnect;
-(void)checkInternetConnection;
-(unsigned long long)sendStreamElement:(id)arg1 fromExclusiveConnection:(id)arg2 ;
-(void)logReachabilityFlags:(unsigned)arg1 ;
-(void)reallyRegisterHandlersForPersistentRequestManager:(id)arg1 ;
-(void)xmppStreamDidAuthenticate:(id)arg1 attributes:(id)arg2 serverTimeShift:(double)arg3 ;
-(void)xmppStreamDidNotAuthenticate:(id)arg1 failureCode:(long long)arg2 lockDuration:(double)arg3 retryAfter:(double)arg4 tempBanReasonCode:(long long)arg5 ;
-(void)xmppStreamDidOpen:(id)arg1 ;
-(void)xmppStreamDidClose:(id)arg1 ;
-(void)xmppStreamDidConnect:(id)arg1 ;
-(void)xmppStream:(id)arg1 didReceiveIQ:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveMessages:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceivePresence:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveReceipt:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveAck:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveChatState:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveNotification:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReceiveCustomStanza:(id)arg2 ;
-(void)xmppStream:(id)arg1 initialConfigurationAsync:(/*^block*/id)arg2 ;
-(BOOL)xmppStream:(id)arg1 didReceiveLoginResponseStanza:(id)arg2 ;
-(void)xmppStream:(id)arg1 didReadBytesCount:(unsigned long long)arg2 ;
-(void)xmppStream:(id)arg1 didWriteBytesCount:(unsigned long long)arg2 ;
-(void)xmppStreamDidBecomeIdle:(id)arg1 ;
-(void)addConnectionHandler:(id)arg1 ;
-(void)removeConnectionHandler:(id)arg1 ;
-(void)enqueueE2eRegistrationRequest:(id)arg1 ;
-(NSString *)currentIP;
-(void)endMessageTimeout:(id)arg1 ;
-(void)sendMessageStanza:(id)arg1 ;
-(void)requestEncUploadUrlForHash:(id)arg1 messageType:(int)arg2 mediaOrigin:(int)arg3 mediaIndex:(long long)arg4 totalMediaCount:(long long)arg5 completion:(/*^block*/id)arg6 ;
-(void)ackMediaForURLString:(id)arg1 sourceIsSelf:(BOOL)arg2 completion:(/*^block*/id)arg3 ;
-(void)reloadPrivateKey;
-(void)sendIQResponse:(id)arg1 ;
-(void)sendAckForNotification:(id)arg1 ;
-(void)uploadFieldStats;
-(id)convertOutgoingEmojiString:(id)arg1 ;
-(id)createPresence:(unsigned long long)arg1 withNickname:(id)arg2 ;
-(NSString *)serverPropsVersion;
-(void)sendBlockedContactsList:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)getBlockedContactsListWithCompletion:(/*^block*/id)arg1 ;
-(void)queryPrivacySettingsWithCompletion:(/*^block*/id)arg1 ;
-(void)resetCachedLastSeen;
-(void)setPrivacySettings:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)queryServerPropertiesWithCompletion:(/*^block*/id)arg1 ;
-(void)presenceSubscribeToJIDIfNecessary:(id)arg1 ;
-(void)reportChatState:(unsigned long long)arg1 forJID:(id)arg2 ;
-(unsigned long long)latestChatStateForGroupWithJID:(id)arg1 returningParticipantJID:(out id*)arg2 ;
-(unsigned long long)chatStateForContactWithJID:(id)arg1 ;
-(void)sendRecoveryToken:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)sendChangeAuthPublicKey:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)getStatusForJIDs:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)cleanDirtyBits:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)changeNumberWithUsername:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)setStatus:(id)arg1 fromWebClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)setLocationSharingEndTime:(id)arg1 forGroupWithJID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(BOOL)hasPendingRequestsForGroupWithJID:(id)arg1 participantJID:(id)arg2 ;
-(void)stopLocationSharingForGroupWithJID:(id)arg1 ;
-(void)requestLocationSharingForGroupWithJID:(id)arg1 reportParticipants:(BOOL)arg2 completion:(/*^block*/id)arg3 ;
-(void)reportSpamMessagesInChatSession:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)reportSpamCall:(id)arg1 calleeJID:(id)arg2 callerJID:(id)arg3 isVideo:(BOOL)arg4 durationInMiliseconds:(int)arg5 terminatorJID:(id)arg6 terminationReason:(id)arg7 ;
-(void)getProfilePictureForJID:(id)arg1 withInviteCode:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)sendCallStanza:(id)arg1 ;
-(void)sendCallReceiptOrAck:(id)arg1 ;
-(void)sendPushName:(id)arg1 webClientRequestID:(id)arg2 ;
-(void)normalizePhoneNumber:(id)arg1 countryCode:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)setProfilePictureForJID:(id)arg1 pictureData:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)sendPushName:(id)arg1 ;
-(BOOL)isOnline:(id)arg1 ;
-(id)lastSeenTimestampForJID:(id)arg1 ;
-(void)deleteAccountWithFeedback:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)requestInviteCodeForGroupWithJID:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)regenerateInviteCodeForGroupWithJID:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)deleteBroadcastListFromServer:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)requestCapabilityForJIDs:(id)arg1 completion:(/*^block*/id)arg2 ;
-(id)clientDataForJID:(id)arg1 ;
-(id)addClientDataForJID:(id)arg1 ;
-(void)checkIncomingChatStateForJID:(id)arg1 participantJID:(id)arg2 ;
-(void)resetAllChatStatesAndClearSubscriptions:(BOOL)arg1 ;
-(void)removeCallWatchdogs;
-(void)startCallStanzaTimeout:(id)arg1 ;
-(void)resendUnsentCallStanzas;
-(void)setIncomingChatState:(unsigned long long)arg1 forJID:(id)arg2 participantJID:(id)arg3 ;
-(BOOL)isMessageStanzaRecentlyAcked:(id)arg1 ;
-(void)sendDeliveryReceiptsForMessageStanzas:(id)arg1 ;
-(void)setUpIncomingMessageHandlerIfNeeded;
-(void)removeClientDataForJID:(id)arg1 ;
-(void)processPSAMessageStanza:(id)arg1 withProtobufContent:(id)arg2 notificationType:(id)arg3 completionBlock:(/*^block*/id)arg4 ;
-(void)delayedReceiptsUpdate;
-(void)endCallStanzaTimeout:(id)arg1 ;
-(void)createGroupWithSubject:(id)arg1 participantJIDs:(id)arg2 key:(id)arg3 locked:(BOOL)arg4 webClientRequestID:(id)arg5 completion:(/*^block*/id)arg6 ;
-(void)setSubject:(id)arg1 forGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)removeParticipants:(id)arg1 fromGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)addParticipants:(id)arg1 toGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)promoteParticipants:(id)arg1 inGroupWithJID:(id)arg2 webClientRequestID:(id)arg3 completion:(/*^block*/id)arg4 ;
-(void)demoteParticipants:(id)arg1 inGroupWithJID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)requestInfoForGroupWithJID:(id)arg1 requestType:(unsigned long long)arg2 completion:(/*^block*/id)arg3 ;
-(void)requestGroupSyncForGroups:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)leaveGroupWithJID:(id)arg1 webClientRequestID:(id)arg2 completion:(/*^block*/id)arg3 ;
-(void)deleteGroupWithJID:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)requestParticipatingGroupsWithRequestType:(unsigned long long)arg1 completion:(/*^block*/id)arg2 ;
-(void)requestInfoForGroupWithInviteCode:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)joinGroupUsingInviteCode:(id)arg1 completion:(/*^block*/id)arg2 ;
-(void)requestBroadcastListsWithCompletion:(/*^block*/id)arg1 ;
-(void)sendDeliveryReceiptsForChatMessages:(id)arg1 ;
-(void)sendRetryReceiptForMessage:(id)arg1 retryCount:(unsigned char)arg2 ;
-(void)sendServerErrorReceiptForMessage:(id)arg1 ;
-(NSString *)currentHost;
-(void)setDelegate:(id<XMPPConnectionDelegate>)arg1 ;
-(void)dealloc;
-(id<XMPPConnectionDelegate>)delegate;
-(unsigned long long)state;
-(BOOL)isActive;
-(void)setState:(unsigned long long)arg1 ;
-(void)setActive:(BOOL)arg1 ;
-(id)initWithConfiguration:(id)arg1 ;
-(void)connect;
-(void)disconnect;
-(void)checkConnection;
-(BOOL)isConnected;
-(void)closeStream;
-(void)cancelAllRequests;
-(void)enqueueRequest:(id)arg1 ;
-(void)ping;
-(void)drop;
-(void)reachabilityDidChangeWithFlags:(unsigned)arg1 ;
-(void)systemTimeChanged:(id)arg1 ;
-(unsigned long long)networkStatus;
-(void)setNetworkStatus:(unsigned long long)arg1 ;
-(XMPPStream *)stream;
-(void)setTestDelegate:(id<XMPPConnectionTestDelegate>)arg1 ;
@end

